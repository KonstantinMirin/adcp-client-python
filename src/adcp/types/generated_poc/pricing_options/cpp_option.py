# generated by datamodel-codegen:
#   filename:  pricing_options/cpp_option.json
#   timestamp: 2026-02-02T17:45:21+00:00

from __future__ import annotations

from typing import Annotated, Literal

from adcp.types.base import AdCPBaseModel
from pydantic import ConfigDict, Field

from . import price_guidance as price_guidance_1


class Parameters(AdCPBaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    demographic: Annotated[
        str,
        Field(
            description="Target demographic in Nielsen format (P18-49, M25-54, W35+, etc.)",
            pattern="^[PMWAC][0-9]{2}(-[0-9]{2}|\\+)$",
        ),
    ]
    min_points: Annotated[float | None, Field(description="Minimum GRPs/TRPs required", ge=0.0)] = (
        None
    )


class CppPricingOption(AdCPBaseModel):
    model_config = ConfigDict(
        extra="allow",
    )
    currency: Annotated[
        str,
        Field(
            description="ISO 4217 currency code",
            examples=["USD", "EUR", "GBP", "JPY"],
            pattern="^[A-Z]{3}$",
        ),
    ]
    fixed_price: Annotated[
        float | None,
        Field(
            description="Fixed price per rating point. If present, this is fixed pricing. If absent, auction-based.",
            ge=0.0,
        ),
    ] = None
    floor_price: Annotated[
        float | None,
        Field(
            description="Minimum acceptable bid for auction pricing (mutually exclusive with fixed_price). Bids below this value will be rejected.",
            ge=0.0,
        ),
    ] = None
    min_spend_per_package: Annotated[
        float | None,
        Field(
            description="Minimum spend requirement per package using this pricing option, in the specified currency",
            ge=0.0,
        ),
    ] = None
    parameters: Annotated[
        Parameters, Field(description="CPP-specific parameters for demographic targeting")
    ]
    price_guidance: Annotated[
        price_guidance_1.PriceGuidance | None,
        Field(description="Optional pricing guidance for auction-based bidding"),
    ] = None
    pricing_model: Annotated[Literal["cpp"], Field(description="Cost per Gross Rating Point")]
    pricing_option_id: Annotated[
        str, Field(description="Unique identifier for this pricing option within the product")
    ]
