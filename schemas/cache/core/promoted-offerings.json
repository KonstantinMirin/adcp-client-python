{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "additionalProperties": true,
  "description": "Complete offering specification combining brand manifest, product selectors, and optional SI agent endpoint. Provides all context needed for creative generation and/or conversational experiences about what is being promoted. When si_agent_url is present, hosts can connect users to conversational experiences about any of the offerings.",
  "examples": [
    {
      "data": {
        "asset_selectors": {
          "asset_types": [
            "image",
            "video"
          ],
          "tags": [
            "holiday"
          ]
        },
        "brand_manifest": {
          "name": "Brand Name",
          "url": "https://brand.com"
        },
        "product_selectors": {
          "manifest_skus": [
            "SKU-123",
            "SKU-456"
          ]
        }
      },
      "description": "Traditional creative offering (no SI)"
    },
    {
      "data": {
        "brand_manifest": "https://brand.com/manifest.json",
        "offerings": [
          {
            "checkout_url": "https://brand.com/signup",
            "description": "Try our platform free for 30 days",
            "name": "Free 30-day trial",
            "offering_id": "q1-2025-trial",
            "valid_from": "2025-01-01T00:00:00Z",
            "valid_to": "2025-03-31T23:59:59Z"
          },
          {
            "description": "Our flagship enterprise solution",
            "landing_url": "https://brand.com/enterprise",
            "name": "Enterprise Platform",
            "offering_id": "standard-product"
          }
        ],
        "si_agent_url": "https://agent.brand.com/mcp"
      },
      "description": "Offerings with SI agent for conversational experiences"
    },
    {
      "data": {
        "brand_manifest": "https://brand.com/manifest.json",
        "offerings": [
          {
            "description": "Up to 50% off summer collection",
            "landing_url": "https://brand.com/summer",
            "name": "Summer Sale",
            "offering_id": "summer-campaign",
            "portfolio_ref": "https://brand.com/portfolios/summer-2025.json"
          }
        ],
        "si_agent_url": "https://agent.brand.com/mcp"
      },
      "description": "Offerings with both creatives and SI"
    }
  ],
  "properties": {
    "asset_selectors": {
      "additionalProperties": true,
      "description": "Selectors to choose specific assets from the brand manifest",
      "properties": {
        "asset_types": {
          "description": "Filter by asset type (e.g., ['image', 'video'])",
          "items": {
            "enum": [
              "image",
              "video",
              "audio",
              "vast",
              "daast",
              "text",
              "url",
              "html",
              "css",
              "javascript",
              "webhook"
            ],
            "type": "string"
          },
          "type": "array"
        },
        "exclude_tags": {
          "description": "Exclude assets with these tags",
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        "tags": {
          "description": "Select assets with specific tags (e.g., ['holiday', 'premium'])",
          "items": {
            "type": "string"
          },
          "type": "array"
        }
      },
      "type": "object"
    },
    "brand_manifest": {
      "$ref": "brand-manifest-ref.json",
      "description": "Brand information manifest containing assets, themes, and guidelines. Can be provided inline or as a URL reference to a hosted manifest."
    },
    "offerings": {
      "description": "Offerings available for promotion. Each offering can include creative assets (via portfolio_ref or inline assets) for traditional ads. When si_agent_url is set at the parent level, hosts can offer conversational experiences about any of these offerings.",
      "items": {
        "$ref": "offering.json"
      },
      "type": "array"
    },
    "product_selectors": {
      "$ref": "promoted-products.json",
      "description": "Selectors to choose which products/offerings from the brand manifest product catalog to promote"
    },
    "si_agent_url": {
      "description": "MCP endpoint URL for the brand's SI agent. When present, hosts can connect users to conversational experiences about any of the offerings. The agent handles si_get_offering lookups and full conversations.",
      "format": "uri",
      "type": "string"
    }
  },
  "required": [
    "brand_manifest"
  ],
  "title": "Promoted Offerings",
  "type": "object"
}