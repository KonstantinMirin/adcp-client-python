{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "additionalProperties": true,
  "description": "Forecasted delivery metrics for a proposal or product allocation. Publishers attach points to help buyers evaluate expected campaign performance before purchase.",
  "properties": {
    "currency": {
      "description": "ISO 4217 currency code for monetary values in this forecast (spend, budget)",
      "type": "string"
    },
    "demographic": {
      "description": "Target demographic code within the specified demographic_system. For Nielsen: P18-49, M25-54, W35+. For BARB: ABC1 Adults, 16-34. For AGF: E 14-49.",
      "examples": [
        "P18-49",
        "A25-54",
        "W35+",
        "M18-34"
      ],
      "type": "string"
    },
    "demographic_system": {
      "$ref": "../enums/demographic-system.json",
      "description": "Measurement system for the demographic field. Ensures buyer and seller agree on demographic notation."
    },
    "ext": {
      "$ref": "ext.json"
    },
    "forecast_range_unit": {
      "$ref": "../enums/forecast-range-unit.json",
      "description": "How to interpret the points array. 'spend' (default when omitted): points at ascending budget levels. 'reach_freq': points at ascending reach/frequency targets. 'weekly'/'daily': metrics are per-period values. 'clicks'/'conversions': points at ascending outcome targets."
    },
    "generated_at": {
      "description": "When this forecast was computed",
      "format": "date-time",
      "type": "string"
    },
    "method": {
      "$ref": "../enums/forecast-method.json",
      "description": "Method used to produce this forecast"
    },
    "points": {
      "description": "Forecasted delivery at one or more budget levels. A single point is a standard forecast; multiple points ordered by ascending budget form a curve showing how metrics scale with spend. Each point pairs a budget with metric ranges.",
      "items": {
        "$ref": "forecast-point.json"
      },
      "minItems": 1,
      "type": "array"
    },
    "reach_unit": {
      "$ref": "../enums/reach-unit.json",
      "description": "Unit of measurement for reach and audience_size metrics in this forecast. Required for cross-channel forecast comparison."
    },
    "valid_until": {
      "description": "When this forecast expires. After this time, the forecast should be refreshed. Forecast expiry does not affect proposal executability.",
      "format": "date-time",
      "type": "string"
    }
  },
  "required": [
    "points",
    "method",
    "currency"
  ],
  "title": "Delivery Forecast",
  "type": "object"
}