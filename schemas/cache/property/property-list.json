{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "additionalProperties": false,
  "description": "A managed property list with optional filters for dynamic evaluation. Lists are resolved at setup time and cached by orchestrators/sellers for real-time use.",
  "properties": {
    "base_properties": {
      "description": "Array of property sources to evaluate. Each entry is a discriminated union: publisher_tags (publisher_domain + tags), publisher_ids (publisher_domain + property_ids), or identifiers (direct identifiers). If omitted, queries the agent's entire property database.",
      "items": {
        "$ref": "base-property-source.json"
      },
      "type": "array"
    },
    "brand_manifest": {
      "$ref": "../core/brand-manifest.json",
      "description": "Brand identity used to automatically apply appropriate rules"
    },
    "cache_duration_hours": {
      "default": 24,
      "description": "Recommended cache duration for resolved list. Consumers should re-fetch after this period.",
      "minimum": 1,
      "type": "integer"
    },
    "created_at": {
      "description": "When the list was created",
      "format": "date-time",
      "type": "string"
    },
    "description": {
      "description": "Description of the list's purpose",
      "type": "string"
    },
    "filters": {
      "$ref": "property-list-filters.json",
      "description": "Dynamic filters applied when resolving the list"
    },
    "list_id": {
      "description": "Unique identifier for this property list",
      "type": "string"
    },
    "name": {
      "description": "Human-readable name for the list",
      "type": "string"
    },
    "principal": {
      "description": "Principal identity that owns this list",
      "type": "string"
    },
    "property_count": {
      "description": "Number of properties in the resolved list (at time of last resolution)",
      "type": "integer"
    },
    "updated_at": {
      "description": "When the list was last modified",
      "format": "date-time",
      "type": "string"
    },
    "webhook_url": {
      "description": "URL to receive notifications when the resolved list changes",
      "format": "uri",
      "type": "string"
    }
  },
  "required": [
    "list_id",
    "name"
  ],
  "title": "Property List",
  "type": "object"
}