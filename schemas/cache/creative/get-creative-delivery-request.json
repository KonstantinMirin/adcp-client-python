{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "additionalProperties": true,
  "anyOf": [
    {
      "required": [
        "media_buy_ids"
      ]
    },
    {
      "required": [
        "media_buy_buyer_refs"
      ]
    },
    {
      "required": [
        "creative_ids"
      ]
    }
  ],
  "description": "Request parameters for retrieving creative delivery data including variant-level metrics from a creative agent. At least one scoping filter (media_buy_ids, media_buy_buyer_refs, or creative_ids) is required.",
  "properties": {
    "account_id": {
      "description": "Account context for routing and scoping. Limits results to creatives within this account. Optional if the agent has a single account or can determine routing from the media buy identifiers.",
      "type": "string"
    },
    "context": {
      "$ref": "../core/context.json"
    },
    "creative_ids": {
      "description": "Filter to specific creatives by ID. If omitted, returns delivery for all creatives matching the other filters.",
      "items": {
        "type": "string"
      },
      "minItems": 1,
      "type": "array"
    },
    "end_date": {
      "description": "End date for delivery period (YYYY-MM-DD). Interpreted in the platform's reporting timezone.",
      "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
      "type": "string"
    },
    "ext": {
      "$ref": "../core/ext.json"
    },
    "max_variants": {
      "description": "Maximum number of variants to return per creative. When omitted, the agent returns all variants. Use this to limit response size for generative creatives that may produce large numbers of variants.",
      "minimum": 1,
      "type": "integer"
    },
    "media_buy_buyer_refs": {
      "description": "Filter to specific media buys by buyer reference ID. Alternative to media_buy_ids when the buyer doesn't have the publisher's identifiers.",
      "items": {
        "type": "string"
      },
      "minItems": 1,
      "type": "array"
    },
    "media_buy_ids": {
      "description": "Filter to specific media buys by publisher ID. If omitted, returns creative delivery across all matching media buys.",
      "items": {
        "type": "string"
      },
      "minItems": 1,
      "type": "array"
    },
    "pagination": {
      "additionalProperties": true,
      "description": "Pagination parameters for the creatives array in the response. When omitted, the agent returns all matching creatives.",
      "properties": {
        "limit": {
          "default": 50,
          "description": "Maximum number of creatives to return",
          "maximum": 100,
          "minimum": 1,
          "type": "integer"
        },
        "offset": {
          "default": 0,
          "description": "Number of creatives to skip",
          "minimum": 0,
          "type": "integer"
        }
      },
      "type": "object"
    },
    "start_date": {
      "description": "Start date for delivery period (YYYY-MM-DD). Interpreted in the platform's reporting timezone.",
      "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
      "type": "string"
    }
  },
  "title": "Get Creative Delivery Request",
  "type": "object"
}